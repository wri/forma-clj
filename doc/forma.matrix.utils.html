<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>forma.matrix.utils documentation</title></head><body><div id="header"><h1><a href="index.html">Forma 0.5.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="forma.classify.logistic.html"><span>forma.classify.logistic</span></a></li><li><a href="forma.date-time.html"><span>forma.date-time</span></a></li><li><a href="forma.gfw.cdm.html"><span>forma.gfw.cdm</span></a></li><li><a href="forma.hadoop.cli.html"><span>forma.hadoop.cli</span></a></li><li><a href="forma.hadoop.io.html"><span>forma.hadoop.io</span></a></li><li><a href="forma.hadoop.jobs.cdm.html"><span>forma.hadoop.jobs.cdm</span></a></li><li><a href="forma.hadoop.jobs.forma.html"><span>forma.hadoop.jobs.forma</span></a></li><li><a href="forma.hadoop.jobs.modis.html"><span>forma.hadoop.jobs.modis</span></a></li><li><a href="forma.hadoop.jobs.neighbors.html"><span>forma.hadoop.jobs.neighbors</span></a></li><li><a href="forma.hadoop.jobs.preprocess.html"><span>forma.hadoop.jobs.preprocess</span></a></li><li><a href="forma.hadoop.jobs.scatter.html"><span>forma.hadoop.jobs.scatter</span></a></li><li><a href="forma.hadoop.jobs.timeseries.html"><span>forma.hadoop.jobs.timeseries</span></a></li><li><a href="forma.hadoop.pail.html"><span>forma.hadoop.pail</span></a></li><li><a href="forma.hadoop.predicate.html"><span>forma.hadoop.predicate</span></a></li><li><a href="forma.hoptree.html"><span>forma.hoptree</span></a></li><li class="current"><a href="forma.matrix.utils.html"><span>forma.matrix.utils</span></a></li><li><a href="forma.matrix.walk.html"><span>forma.matrix.walk</span></a></li><li><a href="forma.ops.classify.html"><span>forma.ops.classify</span></a></li><li><a href="forma.playground.html"><span>forma.playground</span></a></li><li><a href="forma.postprocess.output.html"><span>forma.postprocess.output</span></a></li><li><a href="forma.reproject.html"><span>forma.reproject</span></a></li><li><a href="forma.schema.html"><span>forma.schema</span></a></li><li><a href="forma.source.fire.html"><span>forma.source.fire</span></a></li><li><a href="forma.source.gadmiso.html"><span>forma.source.gadmiso</span></a></li><li><a href="forma.source.hdf.html"><span>forma.source.hdf</span></a></li><li><a href="forma.source.rain.html"><span>forma.source.rain</span></a></li><li><a href="forma.source.static.html"><span>forma.source.static</span></a></li><li><a href="forma.source.tilesets.html"><span>forma.source.tilesets</span></a></li><li><a href="forma.static.html"><span>forma.static</span></a></li><li><a href="forma.testing.html"><span>forma.testing</span></a></li><li><a href="forma.thrift.html"><span>forma.thrift</span></a></li><li><a href="forma.trends.analysis.html"><span>forma.trends.analysis</span></a></li><li><a href="forma.trends.filter.html"><span>forma.trends.filter</span></a></li><li><a href="forma.trends.stretch.html"><span>forma.trends.stretch</span></a></li><li><a href="forma.utils.html"><span>forma.utils</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="forma.matrix.utils.html#var-above-x%3F"><span>above-x?</span></a></li><li><a href="forma.matrix.utils.html#var-coll-avg"><span>coll-avg</span></a></li><li><a href="forma.matrix.utils.html#var-column-matrix"><span>column-matrix</span></a></li><li><a href="forma.matrix.utils.html#var-idx-%3Erowcol"><span>idx-&gt;rowcol</span></a></li><li><a href="forma.matrix.utils.html#var-insert-at"><span>insert-at</span></a></li><li><a href="forma.matrix.utils.html#var-insert-into-val"><span>insert-into-val</span></a></li><li><a href="forma.matrix.utils.html#var-is-square%3F"><span>is-square?</span></a></li><li><a href="forma.matrix.utils.html#var-logical-replace"><span>logical-replace</span></a></li><li><a href="forma.matrix.utils.html#var-matrix-of"><span>matrix-of</span></a></li><li><a href="forma.matrix.utils.html#var-ones-column"><span>ones-column</span></a></li><li><a href="forma.matrix.utils.html#var-outer-product"><span>outer-product</span></a></li><li><a href="forma.matrix.utils.html#var-pred-replace"><span>pred-replace</span></a></li><li><a href="forma.matrix.utils.html#var-revolve"><span>revolve</span></a></li><li><a href="forma.matrix.utils.html#var-rowcol-%3Eidx"><span>rowcol-&gt;idx</span></a></li><li><a href="forma.matrix.utils.html#var-singular%3F"><span>singular?</span></a></li><li><a href="forma.matrix.utils.html#var-sparse-expander"><span>sparse-expander</span></a></li><li><a href="forma.matrix.utils.html#var-transpose"><span>transpose</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>forma.matrix.utils documentation</h2><pre class="doc">A set of useful and general functions for matrix operations or
filters.</pre><div class="public" id="var-above-x%3F"><h3>above-x?</h3><div class="usage"><code>(above-x? x)</code></div><pre class="doc">Returns a partial function that accepts a single number. Returns
true if that number of greater than `x`, false otherwise.

Example usage:
  ((above-x? 5) 5) =&gt; falsey</pre></div><div class="public" id="var-coll-avg"><h3>coll-avg</h3><div class="usage"><code>(coll-avg coll)</code></div><pre class="doc">Returns the average value of the supplied collection of numbers.

Example usage:
  (coll-avg [1 2 3 4]) =&gt; 2.5</pre></div><div class="public" id="var-column-matrix"><h3>column-matrix</h3><div class="usage"><code>(column-matrix val cols)</code></div><pre class="doc">Returns an incanter column matrix of length `cols` filled with
`val`.

Example usage:
  (column-matrix 4 3) =&gt; [4.0 4.0 4.0]</pre></div><div class="public" id="var-idx-%3Erowcol"><h3>idx-&gt;rowcol</h3><div class="usage"><code>(idx-&gt;rowcol edge idx)</code><code>(idx-&gt;rowcol nrows ncols idx)</code></div><pre class="doc">Takes an index within a row vector, and returns the appropriate row
and column within a matrix with the supplied dimensions. If only one
dimension is supplied, assumes a square matrix.

Example usage:
  (idx-&gt;rowcol 10 2) =&gt; [0 2]
  (idx-&gt;rowcol 10 4 18) =&gt; [4 2]</pre></div><div class="public" id="var-insert-at"><h3>insert-at</h3><div class="usage"><code>(insert-at idx ins-coll coll)</code></div><pre class="doc">Inserts `ins-coll` into `coll` at the supplied `idx`.

Example usage:
  (insert-at 1 [[2 1]] [4 5 6]) =&gt; [4 [2 1] 5 6]</pre></div><div class="public" id="var-insert-into-val"><h3>insert-into-val</h3><div class="usage"><code>(insert-into-val val insertion-idx length xs)</code></div><pre class="doc">Insert vector `xs` into a repeated sequence of the supplied
length (filled with `val`) at the supplied insertion index.

Example usage:
  (insert-into-val 0 1 4 [1 2 3]) =&gt; [0 1 2 3]</pre></div><div class="public" id="var-is-square%3F"><h3>is-square?</h3><div class="usage"><code>(is-square? mat)</code></div><pre class="doc">Returns true if input matrix is square, and false otherwise.

Example usage:
  (is-square? (i/matrix (range 4) 2)) =&gt; true</pre></div><div class="public" id="var-logical-replace"><h3>logical-replace</h3><div class="usage"><code>(logical-replace op compare-val new-val coll)</code></div><pre class="doc">Special version of `pred-replace` tailored for logical
operators. `op` should be one of #{&lt;, &gt;, &gt;=, &lt;=, =}. if a value in
the supplied collection returns true when compared to `compare-val`
by `op`, `new-val` will be subbed into the sequence.

Example usage:
  (logical-replace &gt; 3 2 [1 2 5 6]) =&gt; (1 2 2 2)</pre></div><div class="public" id="var-matrix-of"><h3>matrix-of</h3><div class="usage"><code>(matrix-of val rows cols)</code></div><pre class="doc">Returns a matrix of dimension rows-by-cols with all elements equal
to `val`.

Example usage:
  (matrix-of 2 1 4) =&gt; [2 2 2 2]
  (matrix-of 0 2 2) =&gt; [[0 0] [0 0]]</pre></div><div class="public" id="var-ones-column"><h3>ones-column</h3><div class="usage"></div><pre class="doc">Convenient wrapper for column-matrix to create a matrix of ones.

Example usage:
  (ones-column 4) =&gt; [1.0 1.0 1.0 1.0]</pre></div><div class="public" id="var-outer-product"><h3>outer-product</h3><div class="usage"><code>(outer-product coll)</code></div><pre class="doc">Returns a flattened vector of the matrix product of a vector and its
transpose.

Example usage:
  (outer-product [1 2]) =&gt; '(1.0 2.0 2.0 4.0)</pre></div><div class="public" id="var-pred-replace"><h3>pred-replace</h3><div class="usage"><code>(pred-replace pred val coll)</code></div><pre class="doc">Selectively replaces values in `coll` based on the return value of
the supplied predicate. `pred` will receive each value in turn; a
truthy return will trigger a replacement of the seq item with
`val`.

Example usage:
  (pred-replace #{:cake} 3 [1 2 :cake 4]) =&gt; '(1 2 3 4)</pre></div><div class="public" id="var-revolve"><h3>revolve</h3><div class="usage"><code>(revolve coll)</code></div><pre class="doc">Returns a lazy sequence of revolutions of the supplied
collection. (Note that the entire sequence must be realized, as the
first item is cycled to the end for each revolution.)

Example usage:
  (rotate [1 2 3]) =&gt; ([1 2 3] [2 3 1] [3 1 2])</pre></div><div class="public" id="var-rowcol-%3Eidx"><h3>rowcol-&gt;idx</h3><div class="usage"><code>(rowcol-&gt;idx edge row col)</code><code>(rowcol-&gt;idx nrows ncols row col)</code></div><pre class="doc">For the supplied column and row in a rectangular matrix of
dimensions (height, width), returns the corresponding index within a
row vector of size (* width height). If only one dimension is
supplied, assumes a square matrix.

Example usage:
  (rowcol-&gt;idx 3 4 2 2) =&gt; 10
  (rowcol-&gt;idx 3 4 2 3) =&gt; 11
  (rowcol-&gt;idx 3 4 2 4) =&gt; nil</pre></div><div class="public" id="var-singular%3F"><h3>singular?</h3><div class="usage"><code>(singular? mat)</code></div><pre class="doc">Returns if square input matrix is singular, and false otherwise.

Example usage:
  (singular? (i/matrix [[1 0] [1 0]])) =&gt; true
  (singular? (i/matrix [[1 0] [0 1]])) =&gt; false</pre></div><div class="public" id="var-sparse-expander"><h3>sparse-expander</h3><div class="usage"><code>(sparse-expander placeholder tuples &amp; {:keys [start length]})</code></div><pre class="doc">Accepts a sequence of 2-tuples of the form `&lt;idx, val&gt;` and
generates a sparse expansion with each `val` inserted at its
corresponding `idx`. Missing values will be set to the supplied
placeholder.

If no starting index is supplied, `sparse-expander` assumes that
counting begins with the first `&lt;idx, val&gt;` pair.

Example usage:
  (sparse-expander 0 [[10 1] [13 8]]) =&gt; [1 0 0 8]
  (sparse-expander 0 [[10 1] [13 8]] :start 9) =&gt; [0 1 0 0 8]</pre></div><div class="public" id="var-transpose"><h3>transpose</h3><div class="usage"><code>(transpose coll)</code></div><pre class="doc">Returns the transposition of a collection of vectors.

Example usage:
  (transpose [[1 2 3] [4 5 6]]) =&gt; '([1 4] [2 5] [3 6])</pre></div></div></body></html>